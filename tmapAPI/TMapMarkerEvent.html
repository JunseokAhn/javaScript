<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>simpleMap</title>
	<script
	src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=l7xx4afb1a7c147445528d8e83f3f1d4fea0"></script>
	<script type="text/javascript">
		var map;
	// 페이지가 로딩이 된 후 호출하는 함수입니다.
	function initTmap(){
		// map 생성
		// Tmapv2.Map을 이용하여, 지도가 들어갈 div, 넓이, 높이를 설정합니다.
		map = new Tmapv2.Map("map_div", {
			center: new Tmapv2.LatLng(37.566481622437934,126.98502302169841),
			width: "100%",
			height: "400px"
		});
		//마커생성
		var marker = new Tmapv2.Marker({
			position: new Tmapv2.LatLng(37.566481622437934,126.98502302169841), //Marker의 중심좌표 설정.
			draggable : true,
			map: map //Marker가 표시될 Map 설정.
		});
		//Marker에 클릭이벤트 등록.
		marker.addListener("click", function(evt) {
			document.getElementById("result").innerHTML = 'Mouse Click!';
		});
		//Marker에 마우스가 마커 영역에 들어왔을때 이벤트 등록.
		marker.addListener("mouseenter", function(evt) {
			document.getElementById("result").innerHTML = 'Mouse Enter!';
		});
		//Marker에 마우스가 마커를 벗어났을때 이벤트 등록.
		marker.addListener("mouseleave", function(evt) {
			document.getElementById("result").innerHTML = 'Mouse Leave!';
		});
		
		//Marker draggable: true일때, 마커가 움직일때 이벤트 등록
		marker.addListener("drag", function (evt) {
			console.log("drag="+evt.latLng);
		});
		//Marker draggable: true일때, 마커의 움직임이 끝날때 이벤트 등록
		marker.addListener("dragend", function (evt) {
			console.log("dragend="+evt.latLng);
		});
		
		//모바일상에서 Marker draggable: true일때, 마커 터치를 시작할때 이벤트 등록
		marker.addListener("touchstart", function (evt) {
			console.log("touchstart="+evt.latLng);
		});
		//모바일상에서 Marker draggable: true일때, 마커 터치가 끝날때 이벤트 등록
		marker.addListener("touchend", function (evt) {
			console.log("touchend="+evt.latLng);
		});
		//모바일상에서 Marker draggable: true일때, 마커 터치 후 움직일때 이벤트 등록
		marker.addListener("touchmove", function (evt) {
			console.log("touchmove="+evt.latLng);
		});

	} 

</script>
</head>
<body onload="initTmap()"><!-- 맵 생성 실행 -->
	<div id="map_div"></div>
	<p id="result"/>
</body>
</html>